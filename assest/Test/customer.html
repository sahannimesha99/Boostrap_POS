<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Customer</title>
    <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport">
    <link crossorigin="anonymous" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
          integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" rel="stylesheet">
    <style>
        body > #Cutomer > form {
            margin-left: 10px;
            width: 40%;
        }

        body > #Cutomer > #A {
            position: relative;
            margin-left: 10px;
            width: 50%;
            right: -630px;
            top: -401px;
        }


    </style>


</head>
<body>
<section id="Cutomer">

    <nav class="navbar navbar-expand-lg navbar-light bg-light" style="background-color: #0eff48!important;">
        <a class="navbar-brand" href="#">POS SYSTEM </a>
        <button aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation"
                class="navbar-toggler"
                data-target="#navbarNavDropdown" data-toggle="collapse" type="button">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNavDropdown">
            <ul class="navbar-nav">
                <li class="nav-item ">
                    <a class="nav-link" href="index.html" id="n1">Home <span class="sr-only">(current)</span></a>
                </li>
                <li class="nav-item active">
                    <a class="nav-link" href="customer.html">Customer</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="Item.html">Item</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="Order.html">Order</a>
                </li>

            </ul>
        </div>
    </nav>

    <div style="text-align: center"><h1>Customer Form</h1></div>

    <form>
        <div class="form-group">
            <label for="cusid"> Customer Id</label>
            <input class="form-control" id="cusid" placeholder="cusid " type="text">
        </div>
        <div class="form-group">
            <label for="cusname">Customer Name</label>
            <input class="form-control" id="cusname" placeholder="cusname" type="text">
        </div>
        <div class="form-group">
            <label for="cusaddress"> Address</label>
            <input class="form-control" id="cusaddress" placeholder="cusaddress" type="text">
        </div>
        <div class="form-group">
            <label for="cusnumber">Contact</label>
            <input class="form-control" id="cusnumber" placeholder="cusnumber " type="text">
        </div>
        <button class="cusaddbtn btn-success" id="btnSaveCustomer" type="button">ADD</button>
        <button class="cusbtnr btn-danger" id="btnclear" type="button">Clear</button>
    </form>
    <br>
    <br>
    <div id="A">
        <table border="3px" cellpadding="10" cellspacing="5" class="tblCustomer">
            <thead>
            <tr>
                <th scope="col">#</th>
                <th scope="col">ID</th>
                <th scope="col">Name</th>
                <th scope="col">Address</th>
                <th scope="col">Contact</th>
            </tr>
            </thead>
            <tbody id="custbbody">

            </tbody>
        </table>
        <br>
        <button class="btnsavecustomer btn-dark" id="cusupdate" type="button">UPDATE</button>
        <button class="btnremovecustomer btn-danger" id="btnremove" type="button">REMOVE</button>
    </div>
</section>

<script src="../Jquery/jquery-3.5.1.min.js"></script>
<script>

    let count = 1;
    let row;

    $('#btnSaveCustomer').on('click', function () {
        $('#custbbody tr').off('click');

        var cusID = $('#cusid').val();
        var cusName = $('#cusname').val();
        var cusAddress = $('#cusaddress').val();
        var cusNumber = $('#cusnumber').val();

        $('#custbbody').append('<tr><td>' + count++ + '</td><td>' + cusID + '</td><td>' + cusName + '</td><td>' + cusAddress + '</td><td>' + cusNumber + '</td></tr>');

        clear();
        $('#custbbody tr').on('click', function () {
            row = $(this)
        });
        $('#btnremove').on("click", function () {
            $(row).remove();
        })
    });


    $('#btnclear').on("click", function () {
        clear();
    });

    function clear() {
        $('#cusid').val('');
        $('#cusname').val('');
        $('#cusaddress').val('');
        $('#cusnumber').val('');
    }


    $('#cusid').on("keypress", function (e) {
        if (e.code == "Enter") {
            $('#cusname').focus();
        }
    });

    $('#cusname').on("keypress", function (e) {
        if (e.code == "Enter") {
            $('#cusaddress').focus();
        }
    });
    $('#cusaddress').on("keypress", function (e) {
        if (e.code == "Enter") {
            $('#cusnumber').focus();
        }
    });
    $('#cusnumber').on("keypress", function (e) {
        if (e.code == "Enter") {
            $('#btnSaveCustomer').click();
        }
    });


    $('#cusupdate').on('click', function () {
        $('#custbbody tr').off('click');

        var cusID = $('#cusid').val();
        var cusName = $('#cusname').val();
        var cusAddress = $('#cusaddress').val();
        var cusNumber = $('#cusnumber').val();

        $('#custbbody tr').each(function () {
            if (cusID == $($(this).children().get(1)).text()) {
                $($(this).children().get(2)).text(cusName);
                $($(this).children().get(3)).text(cusAddress);
                $($(this).children().get(4)).text(cusNumber)
            }
            alert("Customer not Found")

        })

    });


</script>
<script crossorigin="anonymous"
        integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
        src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
<script crossorigin="anonymous"
        integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN"
        src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
<script crossorigin="anonymous"
        integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV"
        src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

</body>
</html>

